title = "Главная страница"
url = "/"
layout = "MainLayout"
description = "Главная страница сайта Математического факультета ЯрГУ"
is_hidden = 0
meta_title = "МатФак"
meta_description = "Главная страница сайта Математического факультета ЯрГУ"

[blogPosts]
pageNumber = "{{ :page }}"
postsPerPage = 6
noPostsMessage = "Постов пока нет"
sortOrder = "published_at desc"
categoryPage = "index"
postPage = "post-view"
==

<div class="features">
	<div class="features__container container">
		<div class="features__head">
			<h2 class="features__title">
				У нас творится история
			</h2>
			<div class="features__link">
				<a class="button button_palette_blue button__news" href="/news">НОВОСТИ &nbsp;►</a>
			</div>
		</div>
		<ul class="features__list">
			{% set index = 0 %}
			{% for post in posts %}
				<li class="features__item {{ index % 3 == 0 ? 'teaser_palette_blue' : index % 3 == 1 ? 'teaser_palette_purple' : 'teaser_palette_orange' }}">
					<a class="teaser" href="{{ post.url }}">
						<div class="teaser__head">
							{% if post.featured_images.count %}
								{# the first variable will select the first featured image of the respective post #}
								{% set first = post.featured_images|first %}
								{% set ext = first.extension|lower %}
								{# the second variable will create the path to the thumbnail #}
								{% set src = first.path|trim(first.disk_name) ~ 'thumb_' ~ first.id ~ '_' ~ '200x200_0_0_crop' ~ '.' ~ ext %}
								<img
										data-src="{{ first.filename }}"
										src="{{ src }}"
										alt="{{ first.description }}"
										class="teaser__preview"
								/>
							{% else %}
								<img src="{{ "assets/img/default_news.png" | theme }}" alt="Новость" class="teaser__preview">
							{% endif %}
						</div>
						<div class="teaser__body">
							<h3 class="teaser__title">
								{{ post.title }}
							</h3>
							<div class="teaser__description">
								{% set text = post.summary|raw %}
								{% set resultText = str_limit(text, 210) %}
								{{ resultText }}
							</div>
							<time class="teaser__date">
								{{ post.published_at|localizeddate('medium', 'none', "ru") }}
							</time>
						</div>
					</a>
				</li>
				{% set index = index + 1 %}
			{% endfor %}
		</ul>
	</div>
</div>

<!--
<ul class="post-list">
    {% for post in posts %}
        <li>
            <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>

            <p class="info">
                Posted
                {% if post.categories.count %} in {% endif %}
                {% for category in post.categories %}
                    <a href="{{ category.url }}">{{ category.name }}</a>{% if not loop.last %}, {% endif %}
                {% endfor %}
                on {{ post.published_at|date('M d, Y') }}
            </p>

            <p class="excerpt">{{ post.summary }}</p>
        </li>
    {% else %}
        <li class="no-data">{{ noPostsMessage }}</li>
    {% endfor %}
</ul>
-->